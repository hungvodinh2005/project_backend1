extends ../../layouts/default.pug 
include ../../mixins/filterStatus.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug
block main
    
    h1(class="pt-2 text-center") DANH SÁCH SẢN PHẨM
    .card.mb-3
        .card-header 
            span(class="fs-4") Bộ lọc và tìm kiếm
        .card-body
            .row 
                +filterStatus(filterStatus)
                +search(search)
            
    .card.mb-3
        .card-header Danh sách

        table.table.table-hover.table-bordered.table-striped.rounded-3
            thead 
                tr.align-middle 
                    th STT 
                    th Hình ảnh 
                    th Tiêu Đề
                    th Giá
                    th Trạng Thái 
                    th Hành Động 
            tbody
                each item,index in products 
                    tr.align-middle  
                        td #{index+1}
                        td 
                            img(src=item.thumbnail, height="40",width="80", alt="iphone")  
                        td #{item.title}
                        td #{item.price}$
                        td  
                            if item.status=="active"
                                button(class="badge rounded-pill text-bg-success border-0" buttonID=item._id buttonStatus=item.status buttonChangestatus="") Hoạt Động
                            else 
                                button(class="badge rounded-pill text-bg-danger border-0" buttonID=item._id buttonStatus=item.status buttonChangestatus="") Không Hoạt Động
                        td 
                            button(class="btn btn-warning btn-sm") Sửa
                            button(class="btn btn-danger btn-sm",style="margin-left:2px") Xóa  
            
    +pagination(currentPage,totalPages)
    form(action="", method="POST", path=`${prefixAdmin}/products/changeStatus`,buttonFormStatus="")


    